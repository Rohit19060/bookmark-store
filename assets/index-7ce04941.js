(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerpolicy&&(t.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?t.credentials="include":n.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(n){if(n.ep)return;n.ep=!0;const t=r(n);fetch(n.href,t)}})();const y="bookmarks",b=()=>JSON.parse(localStorage.getItem(y)||"[]"),L=e=>{localStorage.setItem(y,JSON.stringify(e))},T=e=>{let l=b();return l.push(e),L(l),l},B=e=>{let l=b();l=l.filter(r=>r.id!=e),L(l)};const q=""+new URL("star-23113f43.svg",import.meta.url).href,w=()=>{let e=document.createElement("form");e.id="addBookmark";let l=document.createElement("h2");l.innerText="Add Bookmark",e.appendChild(l);let r=document.createElement("div");r.classList.add("inputDiv");let d=document.createElement("label");d.htmlFor="title",d.innerText="Title: ";let n=document.createElement("input");n.type="text",n.id="title",n.required=!0,r.appendChild(d),r.appendChild(n),e.appendChild(r);let t=document.createElement("div");t.classList.add("inputDiv");let i=document.createElement("label");i.htmlFor="url",i.innerText="Url: ";let a=document.createElement("input");a.type="url",a.id="url",a.required=!0,t.appendChild(i),t.appendChild(a),e.appendChild(t);let o=document.createElement("div");o.classList.add("inputDiv");let m=document.createElement("label");m.htmlFor="desc",m.innerText="Description: ";let c=document.createElement("input");c.type="text",c.id="desc",c.required=!0,o.appendChild(m),o.appendChild(c),e.appendChild(o);let g=document.createElement("br");e.appendChild(g);let s=document.createElement("label");s.innerText="Rating: ",e.appendChild(s);let f=document.createElement("select");f.name="rating",f.id="rating";for(let u=1;u<=5;u++){let E=document.createElement("option");E.value=u.toString(),E.innerText=u.toString(),f.appendChild(E)}e.appendChild(f);let x=document.createElement("br");e.appendChild(x);let k=document.createElement("button");k.type="submit",k.value="Submit",k.innerText="Submit",e.appendChild(k);let h=document.createElement("button");h.type="button",h.id="cancel",h.innerText="Cancel",e.appendChild(h),e.addEventListener("submit",u=>{u.preventDefault(),N()}),h.addEventListener("click",u=>{C(!0)}),document.querySelector("main").appendChild(e)},I=e=>{let l=document.createElement("section");l.classList.add("bookmark");let r=document.createElement("div");r.id=e.id.toString(),r.classList.add("mainView");let d=document.createElement("span");d.classList.add("h2"),d.innerText=e.title;let n=document.createElement("span");for(let g=0;g<e.rating;g++){let s=document.createElement("img");s.src=q,s.width=15,s.alt="star",n.appendChild(s)}r.appendChild(d),r.appendChild(n),l.appendChild(r);let t=document.createElement("span");t.classList.add("hidden");let i=document.createElement("div");i.classList.add("h2"),i.classList.add("mb-3"),i.innerText=e.desc;let a=document.createElement("div");a.classList.add("hiddenView");let o=document.createElement("a");o.href=e.url,o.target="_blank";let m=document.createElement("button");m.innerText="Visit Link",o.appendChild(m);let c=document.createElement("button");c.innerText="Remove",c.addEventListener("click",()=>{confirm("Are you sure, you want to delete this bookmark")&&(B(e.id),p())}),a.appendChild(o),a.appendChild(c),t.appendChild(i),t.appendChild(a),l.appendChild(t),l.addEventListener("click",()=>{F(e.id)}),document.querySelector("main").appendChild(l)},D=()=>{let e=document.createElement("button");e.id="addForm",e.innerText="+ New",e.type="button",e.addEventListener("click",()=>{C(!1)});let l=document.createElement("span");l.classList.add("text"),l.innerText="Rating Above:";let r=document.createElement("select");r.id="filter",r.title="Filter",r.addEventListener("change",()=>{A(parseInt(r.value)),p()});for(let t=1;t<=5;t++){let i=document.createElement("option");i.value=t.toString(),t==v&&(i.selected=!0),i.innerText=t.toString(),r.appendChild(i)}document.querySelector("main").appendChild(e),document.querySelector("main").appendChild(l),document.querySelector("main").appendChild(r);let d=b(),n=d.filter(t=>t.rating>=v);if(n.length==0){let t=document.createElement("div");t.classList.add("h2"),d.length==0?t.innerText="No Bookmarks Added":t.innerText="No Bookmarks above this Rating",document.querySelector("main").appendChild(t)}else n.forEach(t=>{I(t)})},F=e=>{var r;((r=document.querySelector(`#${e}`))==null?void 0:r.nextElementSibling).classList.toggle("hidden")},N=()=>{let e={id:Math.random().toString(36).substring(2,9).replace(/\d/g,"")+Date.now().toString(),title:document.querySelector("#title").value,url:document.querySelector("#url").value,desc:document.querySelector("#desc").value,rating:parseInt(document.querySelector("#rating").value)};T(e),C(!0),p()},p=()=>{document.querySelector("main").innerHTML="<h1>My Bookmarks</h1>",S?D():w()};let v=0,S=!0;p();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{},e=>{console.log(e)})});const A=e=>{v=e,p()},C=e=>{S=e,p()};
